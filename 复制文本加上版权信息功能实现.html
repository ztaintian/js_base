<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>复制文本加上版权信息功能实现</title>
</head>

<body>
  <div>复制文本加上版权信息功能实现</div>
  <span>fjasjasfjaslfjasfjasf</span>
  <script>
    window.addEventListener("paste", function (e) {
      alert(1)
      var clipdata = e.clipboardData || window.clipboardData;
      var arr = clipdata.getData('text/plain').split('')
      that.code = arr;
      that.$emit("onCompleted", that.code.join(""));
    })

    let oDiv = document.querySelector('body');
    oDiv.oncopy = function (e) { // 复制事件
      e.preventDefault();
      let copyMsg = window.getSelection() +
        '\n' +
        '作者：OBKoro1\n' +
        '链接：https://juejin.im/user/58714f0eb123db4a2eb95372/posts\n' +
        '来源：掘金\n' +
        '著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。';
      e.clipboardData.setData("Text", copyMsg); // 将复制信息添加到剪切板
    }
  </script>
</body>

</html>