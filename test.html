<!doctype html>
<html>

<head>
  <title>测试</title>
  <meta charset="utf8">
</head>

<body>
  <div id="cliclId">kkkk</div>
</body>

</html>
<script>
  var emitAddents = {
    list: {},
    on(event, fn) {
      var that = this;
      (that.list[event] || (that.list[event] = [])).push(fn)
      console.log(that.list)
      return this
    },
    off(event, fn) {
      this.list[event] && this.list[event].map((item, index) => {
        if (fn === item) {
          this.list[event].splice(index, 1)
        }
      })
      console.log(this.list[event])
    },
    emit(event, ...args) {
      this.list[event].map((item) => {
        item.call(this, ...args)
      })
    }
  }
  var cc = emitAddents;

  function user1(content,a) {
    console.log('用户1订阅了:', content, a);
  }

  cc.on('test1', user1);
  // cc.off('test1', user1)
  cc.emit('test1', 'ffff','gggg')
</script>