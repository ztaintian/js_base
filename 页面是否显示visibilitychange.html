<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>页面是否显示visibilitychange</title>
</head>
<script>
document.addEventListener('visibilitychange', function() {
  console.log(document.visibilityState)
  if (!document.hidden) {
    document.title='欢迎回来';
  } else {
    document.title='不要离开我';
  }
}, false);
// https://www.cnblogs.com/slly/p/7991474.html?ivk_sa=1024320u
window.onbeforeunload=function(e){     
　　var e = window.event||e;  
　　e.returnValue=("确定离开当前页面吗？");
}
</script>

<body>

</body>

</html>