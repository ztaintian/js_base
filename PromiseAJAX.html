<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	// https://github.com/typicode/json-server
  let promiseAJAX = (url) => {
  	const promise = new Promise((resolve, reject) => {
  		const client = new XMLHttpRequest();
  		client.open('GET', url);
  		client.onreadystatechange = function () {
				console.log('this', this)
				console.log('client', client)
  			if (this.readyState !== 4) {
  				return;
  			}
  			if (this.status === 200) {
  				resolve(this.response);
  			} else {
  				reject(new Error(this.statusText))
  			}
  		}
  		client.responseType = 'json';
  		client.setRequestHeader('Accept', 'application/json');
  		client.send(null);
  	});
  	return promise;
  }
  promiseAJAX('http://localhost:3000/aa').then((res) => {
  	console.log(res);
  })
</script>
</html>